import{e as s}from"./app.dbf5d933.js";import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";const t={},a=s(`<p>\u6709\u65F6\u5019\u6211\u4EEC\u4F1A\u7ED9\u4E00\u4E9B\u6CA1\u6709\u96C6\u6210\u6743\u9650\u8BA4\u8BC1\u7CFB\u7EDF\u7684\u9875\u9762\u52A0\u4E00\u5C42\u8BA4\u8BC1\uFF0C\u4EE5\u63D0\u9AD8\u5B89\u5168\u6027\uFF0C\u4F46\u662F\u9488\u5BF9\u4E00\u4E9B\u6D89\u53CA\u5230\u7EBF\u4E0A\u751F\u4EA7\u7684\u4E00\u4E9B\u754C\u9762\uFF0C\u5982\u679C\u4F7F\u7528 NGINX \u7EDF\u4E00\u8BA4\u8BC1\u7684\u8D26\u53F7\uFF0C\u90A3\u4E48\u5982\u679C\u67D0\u4E2A\u65F6\u523B\u88AB\u6539\u574F\u4E86\uFF0C\u60F3\u8981\u786E\u8BA4\u662F\u8C01\u90FD\u5F88\u96BE\u3002</p><p>NGINX \u5728\u6253\u5370\u65E5\u5FD7\u7684\u65F6\u5019\uFF0C\u4E8B\u5B9E\u4E0A\u662F\u6709 <code>$remote_user</code>\u8FD9\u4E00\u53C2\u6570\u7684\uFF0C\u53EA\u4E0D\u8FC7\u5E38\u89C4\u4F7F\u7528\u7684\u65F6\u5019\uFF0C\u65E0\u6CD5\u83B7\u53D6\u5230\u503C\uFF0C\u9700\u8981\u5728\u57FA\u4E8E\u8BA4\u8BC1\u89C4\u5219\u7684\u65F6\u5019\uFF0C\u624D\u80FD\u591F\u751F\u6548\uFF0C\u5927\u591A\u65F6\u5019\u6211\u4EEC\u4F7F\u7528<code>htpasswd</code>\u6765\u505A\u7684\u8BA4\u8BC1\uFF0C\u8FD9\u6837\u4F1A\u6BD4\u8F83\u9EBB\u70E6\uFF0C\u6240\u4EE5\u4F18\u96C5\u7684\u65B9\u6848\u5E94\u8BE5\u662F\u7ED3\u5408 ldap \u8BA4\u8BC1\u7684\u6A21\u5757\uFF0C\u6765\u5B9E\u73B0\u8BA4\u8BC1\u7CFB\u7EDF\uFF0C\u7136\u540E\u5728\u65E5\u5FD7\u683C\u5F0F\u5316\u4E2D\u6DFB\u52A0\u7528\u6237\u5B57\u6BB5\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>log_format json <span class="token assign-left variable">escape</span><span class="token operator">=</span>json <span class="token string">&#39;{ &quot;remote_addr&quot;: &quot;$remote_addr&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;@timestamp&quot;:&quot;$time_iso8601&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;request_uri&quot;: &quot;$request_uri&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;remote_user&quot;: &quot;$remote_user&quot;,&#39;</span><span class="token comment"># \u5199\u5165\u4E4B\u540E\uFF0C\u5C31\u80FD\u8BB0\u5F55\u8BBF\u95EE\u7684\u7528\u6237\u4E86</span>
                           <span class="token string">&#39;&quot;verb&quot;: &quot;$request_method&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;httpversion&quot;: &quot;$server_protocol&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;response&quot;: &quot;$status&quot;, &#39;</span>
                           <span class="token string">&#39;&quot;body_bytes_sent&quot;: &quot;$body_bytes_sent&quot;, &#39;</span>
                           <span class="token string">&#39;&quot;referrer&quot;: &quot;$http_referer&quot;, &#39;</span>
                           <span class="token string">&#39;&quot;user_agent&quot;: &quot;$http_user_agent&quot;, &#39;</span>
                           <span class="token string">&#39;&quot;server_name&quot;: &quot;$host&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;request_time&quot;: &quot;$request_time&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;upstream_response_time&quot;: &quot;$upstream_response_time&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;realpath_root&quot;: &quot;$realpath_root&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;cookie&quot;: &quot;$http_cookie&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;request_body&quot;: &quot;$request_body&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;nginx_version&quot;: &quot;$nginx_version&quot;,&#39;</span>
                           <span class="token string">&#39;&quot;scheme&quot;: &quot;$scheme&quot;}&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>\u7136\u540E\u6DFB\u52A0 ldap \u7684\u914D\u7F6E\uFF0C\u8FD9\u91CC\u4E0D\u518D\u8D58\u8FF0\uFF0C\u53C2\u8003\u8FD9\u91CC\uFF1Ahttps://wiki.eryajf.net/pages/3416.html#_6-nginx</p><p><img src="http://t.eryajf.net/imgs/2021/09/f6405d8c66d3cf70.jpg" alt="img"></p><p>\u6700\u540E\u6A21\u62DF\u8BBF\u95EE\u4E00\u4E0B\uFF0C\u770B\u770B\u65E5\u5FD7\u4E2D\u662F\u5426\u8BB0\u5F55\u5230\u4E86\u5BF9\u5E94\u7528\u6237\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">{</span> <span class="token string">&quot;remote_addr&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;127.0.0.1&quot;</span>,<span class="token string">&quot;@timestamp&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2019-11-15T16:57:29+08:00&quot;</span>,<span class="token string">&quot;request_uri&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/&quot;</span>,<span class="token string">&quot;remote_user&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;eryajf&quot;</span>,<span class="token string">&quot;verb&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;GET&quot;</span>,<span class="token string">&quot;httpversion&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;HTTP/1.1&quot;</span>,<span class="token string">&quot;response&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;200&quot;</span>, <span class="token string">&quot;body_bytes_sent&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;3&quot;</span>, <span class="token string">&quot;referrer&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>, <span class="token string">&quot;user_agent&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ELinks/0.12pre6 (textmode; Linux; 89x44-2)&quot;</span>, <span class="token string">&quot;server_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;127.0.0.1&quot;</span>,<span class="token string">&quot;request_time&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0.002&quot;</span>,<span class="token string">&quot;upstream_response_time&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,<span class="token string">&quot;realpath_root&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/share/nginx/html&quot;</span>,<span class="token string">&quot;cookie&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,<span class="token string">&quot;request_body&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,<span class="token string">&quot;nginx_version&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1.14.0&quot;</span>,<span class="token string">&quot;scheme&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u5C31\u80FD\u770B\u5230\u4E86\u5728\u5BF9\u5E94\u65F6\u95F4\u70B9\u4E2D\uFF0Ceryajf \u8FD9\u4E2A\u7528\u6237\u767B\u9646\u4E86\u672C\u7CFB\u7EDF\uFF0C\u4EE5\u540E\u82E5\u6709\u4EC0\u4E48\u95EE\u9898\uFF0C\u5C31\u80FD\u66F4\u5BB9\u6613\u9501\u5B9A\u76EE\u6807\u4E86\u3002</p>`,8);function e(o,p){return a}var l=n(t,[["render",e]]);export{l as default};

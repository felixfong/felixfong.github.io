import{r as t,o as p,c as l,b as s,a as r,F as i,e as n,d as e}from"./app.dbf5d933.js";import{_ as o}from"./plugin-vue_export-helper.21dcd24c.js";const c={},d=n(`<p>\u5728\u666E\u901A\u7528\u6237\u4E0B\uFF0C\u7A81\u7136 bash \u5931\u7075\uFF0C\u65E0\u8BBA\u6267\u884C\u4EC0\u4E48\u547D\u4EE4\uFF0C\u90FD\u62A5\u5982\u4E0B\u95EE\u9898\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>bash: fork: retry: No child processes
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u4E0A\u9762\u8FD9\u6BB5\u9519\u8BEF\u63D0\u793A\u7684\u672C\u8D28\u662F Linux \u64CD\u4F5C\u7CFB\u7EDF\u65E0\u6CD5\u521B\u5EFA\u66F4\u591A\u8FDB\u7A0B\uFF0C\u5BFC\u81F4\u51FA\u9519\u3002 \u56E0\u6B64\u8981\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u9700\u8981\u4FEE\u6539 Linux \u5141\u8BB8\u521B\u5EFA\u66F4\u591A\u7684\u8FDB\u7A0B\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#\u5E76\u53D1\u8FDE\u63A5\u6570</span>
<span class="token builtin class-name">echo</span> -e  <span class="token string">&quot;root soft nofile 65535<span class="token entity" title="\\n">\\n</span>root hard nofile 65535<span class="token entity" title="\\n">\\n</span>* soft nofile 65535<span class="token entity" title="\\n">\\n</span>* hard nofile 65535<span class="token entity" title="\\n">\\n</span>&quot;</span>  <span class="token operator">&gt;&gt;</span> /etc/security/limits.conf
<span class="token function">sed</span> -i <span class="token string">&#39;s#4096#65535#g&#39;</span> /etc/security/limits.d/20-nproc.conf
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u4E00\u4E2A\u662F\u4FEE\u6539\u6700\u5927\u6587\u4EF6\u6253\u5F00\u6570\uFF0C\u4E00\u4E2A\u662F\u6700\u5927\u8FDB\u7A0B\u6570\uFF0C\u8FD9\u4E24\u4E2A\u6570\u53EF\u9002\u5F53\u914C\u60C5\u8C03\u5927\u3002\u5176\u4E2D root \u8868\u793A\u7BA1\u7406\u5458\uFF0C* \u8868\u793A\u666E\u901A\u7528\u6237\u3002</p><p><img src="http://t.eryajf.net/imgs/2021/09/adb53570034aa534.jpg" alt="image"></p><p>\u5982\u679C\u5982\u4E0A\u4F18\u5316\u5DF2\u7ECF\u8FDB\u884C\u8FC7\u4E86\uFF0C\u800C\u670D\u52A1\u5668\u4ECD\u65E7\u8FD8\u4F1A\u62A5\u4E0A\u8FB9\u90A3\u53E5\u8BDD\uFF0C\u90A3\u5C31\u6709\u53EF\u80FD\u662F\u50F5\u5C38\u8FDB\u7A0B\u7684\u786E\u628A\u7CFB\u7EDF\u53EF\u7528\u8FDB\u7A0B\u7ED9\u8017\u5B8C\u4E86\u3002</p><p>\u8FD9\u65F6\uFF0C\u4F7F\u7528<code>top\u547D\u4EE4</code>\u80FD\u591F\u770B\u5230\u7CFB\u7EDF\u4E2D\u7684\u50F5\u5C38\u8FDB\u7A0B\u6570:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>top - 08:21:10 up 286 days,  8:30,  1 user,  load average: 0.01, 0.05, 0.05
Tasks: 493 total,   1 running, 289 sleeping,   0 stopped, 27386 zombie
%Cpu(s):  0.3 us,  0.7 sy,  0.0 ni, 99.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem :  3881904 total,   216408 free,  1170100 used,  2495396 buff/cache
KiB Swap:        0 total,        0 free,        0 used.  2366900 avail Mem

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
  581 root      20   0  568400  23276   2768 S   0.3  0.6 131:13.99 containerd
11458 root      20   0  156012   2636   1524 R   0.3  0.1   0:00.20 top
18150 root      20   0  164564   9436   2044 S   0.3  0.2   0:44.44 barad_agent
18151 root      20   0  609312  12680   2364 S   0.3  0.3   4:20.32 barad_agent
21213 root      20   0  129540  14860   5508 S   0.3  0.4   3:43.59 athens-proxy
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u5176\u4E2D\u6709\u4E00\u9879\u4FE1\u606F\u662F <code>27386 zombie</code>,\u610F\u5473\u7740\u7CFB\u7EDF\u4E2D\u51FA\u73B0\u4E86\u5C06\u8FD1\u4E09\u4E07\u4E2A\u50F5\u5C38\u8FDB\u7A0B\u3002</p><p>\u4F7F\u7528\u5982\u4E0B\u547D\u4EE4\u80FD\u591F\u770B\u5230\u8FD9\u4E9B\u50F5\u5C38\u8FDB\u7A0B\uFF0C\u4EE5\u53CA\u5B83\u7684\u7236\u8FDB\u7A0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ ps -A -ostat,ppid,pid,cmd | grep -e &#39;^[Zz]&#39;
Z    21213   630 [git-remote-http] &lt;defunct&gt;
Z    21213   633 [git-remote-http] &lt;defunct&gt;
Z    21213   714 [git-remote-http] &lt;defunct&gt;
........
Z    21213   734 [git-remote-http] &lt;defunct&gt;
Z    21213   741 [git-remote-http] &lt;defunct&gt;
Z    21213   978 [git-remote-http] &lt;defunct&gt;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><code>-A</code>:\u53C2\u6570\u5217\u51FA\u6240\u6709\u8FDB\u7A0B</li><li><code>-o</code>:\u81EA\u5B9A\u4E49\u8F93\u51FA\u5B57\u6BB5\uFF0C\u6211\u4EEC\u8BBE\u5B9A\u663E\u793A\u5B57\u6BB5\u4E3Astat\uFF08\u72B6\u6001,ppid\uFF08\u7236\u8FDB\u7A0Bpid,pid\uFF08\u8FDB\u7A0Bpid,cmd\uFF08\u547D\u4EE4\u884C\uFF09\u8FD9\u56DB\u4E2A\u53C2\u6570</li><li>\u56E0\u4E3A\u72B6\u6001\u4E3A z \u6216\u8005 Z\u7684\u8FDB\u7A0B\u4E3A\u50F5\u5C38\u8FDB\u7A0B\uFF0C\u6240\u4EE5\u6211\u4EEC\u4F7F\u7528grep\u6293\u53D6stat\u72B6\u6001\u4E3AzZ\u8FDB\u7A0B</li></ul><p>\u53EF\u4EE5\u770B\u5230\u540E\u8FB9\u90FD\u662F\u50F5\u5C38\u8FDB\u7A0B\uFF0C\u800C\u524D\u8FB9pid\u4E3A <code>21213</code> \u7684\u8FDB\u7A0B\u5219\u662F\u8FD9\u4E9B\u50F5\u5C38\u8FDB\u7A0B\u7684\u7236\u8FDB\u7A0B\u3002</p><p>\u6211\u4EEC\u53EF\u4EE5\u5148\u770B\u4E0B\u8FD9\u4E2A\u8FDB\u7A0B\u662F\u4EC0\u4E48\u670D\u52A1\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ ps aux |grep 21213 |grep -v grep
root     21213  0.3  0.4 129540 16880 ?        Ssl  Aug31   3:45 athens-proxy -config_file=/config/config.toml
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,16),u=e("\u539F\u6765\u662FAthens\u8FD9\u4E2A\u4EE3\u7406\u670D\u52A1\uFF0C\u4ECE\u5B98\u65B9github\u641C\u7D22\u76F8\u5173issue\uFF0C\u65E9\u671F\u7248\u672C\u4E2D\u7684\u786E\u5B58\u5728\u8FD9\u4E2A\u95EE\u9898\uFF1A"),b={href:"https://github.com/gomods/athens/issues/1155",target:"_blank",rel:"noopener noreferrer"},m=e("issue"),g=n(`<p>\u6211\u4EEC\u4F7F\u7528\u7684\u6B63\u5F0Fv0.3\u8FD9\u6837\u7684\u65E9\u671F\u7248\u672C\uFF0C\u76EE\u524D\u7684\u5904\u7406\u65B9\u5F0F\u6709\u4E24\u79CD\uFF0C\u4E00\u79CD\u662F\u76F4\u63A5\u5347\u7EA7\u4EE3\u7406\u7684\u7248\u672C\uFF0C\u4F46\u662F\u636E\u4E86\u89E3\u4E0D\u540C\u7248\u672C\u4E4B\u95F4\u53C2\u6570\u4E0D\u4E00\u6837\uFF0C\u4F3C\u4E4E\u5347\u7EA7\u8D77\u6765\u5E76\u4E0D\u8F7B\u677E\uFF0C\u53E6\u4E00\u79CD\u5C31\u662F\u5E72\u6389\u8FD9\u4E2A\u7236\u8FDB\u7A0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>kill -HUP 21213
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u5F53\u6211\u6267\u884C\u5B8C\u5982\u4E0A\u547D\u4EE4\u4E4B\u540E\uFF0C\u53EF\u4EE5\u53D1\u73B0\u50F5\u5C38\u8FDB\u7A0B\u6570\u53D8\u6210\u4E860\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Tasks: <span class="token number">284</span> total,   <span class="token number">1</span> running, <span class="token number">283</span> sleeping,   <span class="token number">0</span> stopped,   <span class="token number">0</span> zombie
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u7136\u540E\u7CFB\u7EDF\u4E5F\u4E0D\u4F1A\u518D\u62A5\u4E0A\u8FB9\u90A3\u4E2A\u9519\u8BEF\u4E86\u3002</p>`,5);function h(f,v){const a=t("ExternalLinkIcon");return p(),l(i,null,[d,s("p",null,[u,s("a",b,[m,r(a)])]),g],64)}var k=o(c,[["render",h]]);export{k as default};

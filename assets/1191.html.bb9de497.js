import{e as s}from"./app.dbf5d933.js";import{_ as a}from"./plugin-vue_export-helper.21dcd24c.js";const n={},e=s(`<p>nginx\u7684\u65E5\u5FD7\u9ED8\u8BA4\u662F\u4E0D\u4F1A\u8FDB\u884C\u5207\u5272\u7684\uFF0C\u5982\u679C\u6211\u4EEC\u4E0D\u5BF9\u5176\u8FDB\u884C\u4E00\u4E9B\u5904\u7406\uFF0C\u90A3\u4E48\u5C31\u4F1A\u4E00\u5929\u4E00\u5929\u53D8\u5927\uFF0C\u7B49\u5927\u5230\u51E0\u4E2AG\u7684\u65F6\u5019\uFF0C\u4E00\u65E6\u51FA\u73B0\u95EE\u9898\uFF0C\u60F3\u901A\u8FC7\u65E5\u5FD7\u8FDB\u884C\u4E00\u4E9B\u95EE\u9898\u7684\u6392\u67E5\u90FD\u5F88\u56F0\u96BE\u4E86\u3002</p><p>\u6211\u7684\u535A\u5BA2\u4E2Dnginx\u65E5\u5FD7\u4E5F\u662F\u8FD9\u4E48\u4E2A\u60C5\u51B5\uFF0C\u4E8E\u662F\u6253\u7B97\u505A\u4E00\u4E0B\u65E5\u5FD7\u5207\u5272\u3002</p><p>\u811A\u672C\u5982\u4E0B\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">Date</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">date</span> -d <span class="token string">&#39;-1 day&#39;</span> <span class="token string">&#39;+%Y-%m-%d&#39;</span><span class="token variable">\`</span></span>
<span class="token builtin class-name">cd</span> /var/log/nginx  <span class="token operator">&amp;&amp;</span>   <span class="token function">mkdir</span> logs/<span class="token variable">$Date</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> access.log error.log
<span class="token keyword">do</span>
    <span class="token function">gzip</span> -c <span class="token variable">$i</span>  <span class="token operator">&gt;</span> logs/<span class="token variable">$Date</span>/<span class="token string">&quot;<span class="token variable">$i</span>&quot;</span>_<span class="token string">&quot;<span class="token variable">$Date</span>&quot;</span>.gz
    <span class="token builtin class-name">echo</span> <span class="token string">&quot; &quot;</span> <span class="token operator">&gt;</span>  <span class="token variable">$i</span>
    <span class="token function">find</span> logs/ -ctime +30 <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">rm</span> -rf
<span class="token keyword">done</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u6B64\u5904\u53EA\u7528\u628A\u811A\u672C\u4E2D\u65E5\u5FD7\u7684\u4F4D\u7F6E\u8FDB\u884C\u8C03\u6574\u5E76\u521B\u5EFAlogs\u76EE\u5F55\uFF0C\u5C31\u53EF\u4EE5\u4E86\u3002</p><p><img src="http://t.eryajf.net/imgs/2021/09/77372889aa90ebcd.jpg" alt="image"></p><p>\u7136\u540E\u518D\u5C06\u811A\u672C\u6254\u8FDB\u5B9A\u65F6\u4EFB\u52A1\u5F53\u4E2D\uFF0C\u6BCF\u5929\u7684\u51CC\u6668\u6267\u884C\u4E00\u6B21\uFF0C\u8FD9\u6837\u5C31\u8FBE\u5230\u4E86\u6309\u5929\u5207\u5272\uFF0C\u7136\u540E\u5220\u9664\u638930\u5929\u4E4B\u524D\u7684\u65E5\u5FD7\u7684\u76EE\u7684\u4E86\u3002</p>`,7);function p(t,o){return e}var c=a(n,[["render",p]]);export{c as default};

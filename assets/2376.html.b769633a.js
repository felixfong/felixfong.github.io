import{r as t,o as a,c as o,b as s,a as c,F as l,d as n,e as i}from"./app.dbf5d933.js";import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";const p={},u=s("h2",{id:"_1-\u52A0\u5927\u5185\u5B58\u5206\u914D\u3002",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-\u52A0\u5927\u5185\u5B58\u5206\u914D\u3002","aria-hidden":"true"},"#"),n(" 1\uFF0C\u52A0\u5927\u5185\u5B58\u5206\u914D\u3002")],-1),d=s("p",null,"\u4E00\u5F00\u59CB\u7D22\u5F15\u4EC0\u4E48\u7684\u90FD\u4E0D\u591A\uFF0C\u91CF\u4E0D\u5927\uFF0C\u6240\u4EE5\u90FD\u5F88\u8F7B\u677E\uFF0C\u540E\u6765\u91CF\u8D8A\u6765\u8D8A\u5927\uFF0C\u9ED8\u8BA4\u7684\u914D\u7F6E\u5C31\u6709\u70B9\u5403\u4E0D\u6D88\u4E86\uFF0C\u6253\u5F00\u4E00\u4E2A\u9875\u9762\uFF0C\u67E5\u8BE2\u538B\u529B\u5C31\u4F1A\u975E\u5E38\u5927\u3002",-1),m=s("p",null,"\u8FD9\u4E2A\u65F6\u5019\u53EF\u4EE5\u901A\u8FC7\u52A0\u5927es\u7684jvm\u5185\u5B58\u6765\u4F18\u5316\u3002",-1),h=s("p",null,"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CElasticsearch\u544A\u8BC9JVM\u4F7F\u7528\u6700\u5C0F\u548C\u6700\u5927\u5927\u5C0F\u4E3A1 GB\u7684\u5806\u3002\u8FC1\u79FB\u5230\u751F\u4EA7\u73AF\u5883\u65F6\uFF0C\u914D\u7F6E\u5806\u5927\u5C0F\u4EE5\u786E\u4FDDElasticsearch\u6709\u8DB3\u591F\u7684\u5806\u53EF\u7528\u662F\u5F88\u91CD\u8981\u7684\u3002",-1),_=s("p",null,[n("Elasticsearch\u5C06\u901A\u8FC7\uFF08\u6700\u5C0F\u5806\u5927\u5C0F\uFF09\u548C\uFF08\u6700\u5927\u5806\u5927\u5C0F\uFF09\u8BBE\u7F6E\u5206\u914Djvm.options\u4E2D\u6307\u5B9A\u7684\u6574\u4E2A\u5806 \u3002"),s("code",null,"Xms"),n("\uFF0C"),s("code",null,"Xmx"),n("\u53EF\u8BBE\u7F6E\u7684\u503C\u53D6\u51B3\u4E8E\u670D\u52A1\u5668\u4E0A\u53EF\u7528\u7684RAM\u91CF\u3002\u4E00\u4E9B\u597D\u7684\u5EFA\u8BAE\u662F\uFF1A")],-1),b=s("li",null,"\u5C06\u6700\u5C0F\u5806\u5927\u5C0F\uFF08Xms\uFF09\u548C\u6700\u5927\u5806\u5927\u5C0F\uFF08Xmx\uFF09\u8BBE\u7F6E\u4E3A\u5F7C\u6B64\u76F8\u7B49\u3002",-1),f=s("li",null,"Elasticsearch\u53EF\u7528\u7684\u5806\u8D8A\u591A\uFF0C\u5B83\u53EF\u7528\u4E8E\u7F13\u5B58\u7684\u5185\u5B58\u5C31\u8D8A\u591A\u3002\u4F46\u8BF7\u6CE8\u610F\uFF0C\u8FC7\u591A\u7684\u5806\u53EF\u80FD\u4F1A\u4F7F\u60A8\u9677\u5165\u957F\u65F6\u95F4\u7684\u5783\u573E\u6536\u96C6\u6682\u505C\u3002",-1),g=s("li",null,"\u8BBE\u7F6EXmx\u4E3A\u4E0D\u8D85\u8FC7\u7269\u7406RAM\u768450\uFF05\uFF0C\u4EE5\u786E\u4FDD\u6709\u8DB3\u591F\u7684\u7269\u7406RAM\u7559\u7ED9\u5185\u6838\u6587\u4EF6\u7CFB\u7EDF\u7F13\u5B58\u3002",-1),k={href:"https://www.elastic.co/guide/en/elasticsearch/guide/master/heap-sizing.html#compressed_oops",target:"_blank",rel:"noopener noreferrer"},v=n("\u6700\u5927\u5185\u5B58\u4E0D\u8981\u8D85\u8FC732G"),x=n("\uFF0C\u8DE832G\u65F6\uFF0C\u6709\u4E00\u4E2A\u73B0\u8C61\uFF0C\u4F7F\u7528\u66F4\u591A\u7684\u5185\u5B58\uFF0C\u6BD4\u5982 40G\uFF0C\u6548\u679C\u8FD8\u4E0D\u598231G\uFF01"),q=i(`<p>\u6BD4\u5982\u6211\u7684\u4E3B\u673A\u662F16\u683832G\u7684\u4E3B\u673A\uFF0C\u90A3\u4E48\u8FD9\u65F6\u66F4\u6539\u4E00\u4E0B\u914D\u7F6E\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vim</span> /etc/elasticsearch/jvm.options
-Xms16g
-Xmx16g
-Xss128m
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u7136\u540E\u91CD\u542Fes\uFF0C\u4F1A\u53D1\u73B0\u5FEB\u5F88\u591A\u4E86\u3002</p><p>\u5173\u4E8E\u8FD9\u4E00\u70B9\uFF0C\u53EF\u4EE5\u53C2\u8003\u5B98\u65B9\u6587\u6863\uFF1Ahttps://www.elastic.co/guide/en/elasticsearch/reference/current/heap-size.html</p><h2 id="_2-\u4FEE\u6539\u7CFB\u7EDF\u5141\u8BB8\u7684\u6700\u5927\u6587\u4EF6\u6253\u5F00\u6570\u3002" tabindex="-1"><a class="header-anchor" href="#_2-\u4FEE\u6539\u7CFB\u7EDF\u5141\u8BB8\u7684\u6700\u5927\u6587\u4EF6\u6253\u5F00\u6570\u3002" aria-hidden="true">#</a> 2\uFF0C\u4FEE\u6539\u7CFB\u7EDF\u5141\u8BB8\u7684\u6700\u5927\u6587\u4EF6\u6253\u5F00\u6570\u3002</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#\u5E76\u53D1\u8FDE\u63A5\u6570</span>
<span class="token comment">#echo &quot;root soft nofile 65535&quot;  &gt;&gt; /etc/security/limits.conf</span>
<span class="token comment">#echo &quot;root hard nofile 65535&quot;  &gt;&gt; /etc/security/limits.conf</span>
<span class="token comment">#echo &quot;* soft nofile 65535&quot;     &gt;&gt;  /etc/security/limits.conf</span>
<span class="token comment">#echo &quot;* hard nofile 65535&quot;     &gt;&gt; /etc/security/limits.conf</span>
<span class="token builtin class-name">echo</span> -e  <span class="token string">&quot;root soft nofile 65535<span class="token entity" title="\\n">\\n</span>root hard nofile 65535<span class="token entity" title="\\n">\\n</span>* soft nofile 65535<span class="token entity" title="\\n">\\n</span>* hard nofile 65535<span class="token entity" title="\\n">\\n</span>&quot;</span>     <span class="token operator">&gt;&gt;</span> /etc/security/limits.conf
<span class="token function">sed</span> -i <span class="token string">&#39;s#4096#65535#g&#39;</span> /etc/security/limits.d/20-nproc.conf 
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u4E00\u4E2A\u662F\u4FEE\u6539\u6700\u5927\u6587\u4EF6\u6253\u5F00\u6570\uFF0C\u4E00\u4E2A\u662F\u6700\u5927\u8FDB\u7A0B\u6570\uFF0C\u5176\u4E2Droot\u8868\u793A\u7BA1\u7406\u5458\uFF0C*\u8868\u793A\u666E\u901A\u7528\u6237\u3002</p><p>\u66F4\u6539\u4E4B\u540E\u91CD\u542F\u4E3B\u673A\u5373\u53EF\u3002</p>`,8);function y(X,E){const e=t("ExternalLinkIcon");return a(),o(l,null,[u,d,m,h,_,s("ul",null,[b,f,g,s("li",null,[s("a",k,[v,c(e)]),x])]),q],64)}var j=r(p,[["render",y]]);export{j as default};
